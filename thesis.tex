\documentclass{MasterThesisTUT}

% --------------------------------------
% Some Guidelines for Using the template
% --------------------------------------
% 1. DO NOT MODIFY THE CLASS FILE!
% 2. DO NOT MODIFY THE CLASS FILE!
% 3. Try to keep the document modular (use `chapters` and `figures` folders)
% ----------------------------------
% Recommendations:
% - subfigure package is deprecated! Please use subcaption package instead.
% - Use hhline instead of cline package


% some useful packages, not necessary for the template:
\usepackage[table]{xcolor}
\usepackage{graphicx}       % Figures inside text
\usepackage{url}            % For using URLs
\usepackage{blindtext}      % Stubs
\usepackage{color}          % used for \textcolor
\usepackage{multirow}       % for multi-row cells in table
\usepackage{hhline}         % for customizing the horizontal lines in tables
\usepackage{tcolorbox}      % for gray text boxes on pages 17 and 19
\usepackage{xfrac}          % for some fancy fraction numbers used in the document
\usepackage{subcaption}     % used for figures with sub figures a,b, etc
\usepackage[iso]{datetime}  % current date (note: uses ISO 8601 format)
 

% use the following package if you need pseudo-code
% also, instead of using \caption please use:
% \captionof{figure}{[here is your caption!]}
% since algorithms should be declared as figure!
\usepackage[linesnumbered]{algorithm2e}
\SetAlFnt{\small\bfseries\ttfamily}

% -------------------------------
% ⚠ Edit your information here! ⚠
% -------------------------------
\authorname{[First name Middle name Last name]} % Name of the author
\thesistitle{[Title of The thesis]}         % Title of Thesis (English)
\estonianthesistitle{[Lõputöö pealkiri]}    % Title of Thesis (Estonian)
\supervisorname{[Supervisor's Name]}        % Name of the supervisor
\supervisortitle{[Supervisor's Title]}      % Supervisor's title
\cosupervisorname{[Co-supervisor's Name]}   % Name of the co-supervisor
\cosupervisortitle{[Co-Supervisor's Title]} % Co-supervisor's title
\programcode{[IAY70LT]}
\studentcode{[1234ABCD]}
\school{School of Information Technologies}
\department{Department of Computer Systems}
\estonianschool{Infotehnoloogia teaduskond}
\estoniandepartment{Arvutisüsteemide instituut}

\begin{document}
\sloppy % to make sure mbox does not go over the limit

% Document structure:

% ----------------------------- TITLE PAGE --------------------------------
\maketitlepage

% ----------------------------- TITLE PAGE (EST) --------------------------
\maketitlepageeesti

% ----------------------------- DECLARATION -------------------------------
\input{chapters/Declaration.tex}

% ----------------------------- ABSTRACT ----------------------------------
\input{chapters/Abstract-eng.tex}
% ----------------------------- ABSTRACT (In Estonian) --------------------
\input{chapters/Abstract-est.tex}
% ----------------------------- ABBREVIATIONS -----------------------------
\input{chapters/Abbreviations.tex}

% ----------------------------- TABLE OF CONTENTS -------------------------
\singlespacing
\tableofcontents
\newpage
% ----------------------------- LIST OF FIGURES ---------------------------
\listoffigures
\pagebreak
% ----------------------------- LIST OF TABLES ----------------------------
\listoftables
\pagebreak
\onehalfspacing
% ----------------------------- INTRODUCTION ------------------------------
\input{chapters/Introduction.tex}
% ----------------------------- CHAPTERS ----------------------------------
\input{chapters/Chapter1.tex}

\input{chapters/Chapter2.tex}

% ----------------------------- CONCLUSION --------------------------------
\input{chapters/Summary.tex}

% ----------------------------- BIBLIOGRAPHY ------------------------------
\bibliographystyle{ieeetr}
\footnotesize
\setstretch{0}
\bibliography{literature} % link to bibtex file (literature.bib)

\label{EndOfMainPart}
\newpage

%todo: find if we can somehow move this to the preamble!
\let\svaddcontentsline\addcontentsline
\renewcommand\addcontentsline[3]{%
  \ifthenelse{\equal{#1}{lof}}{}%
  {\ifthenelse{\equal{#1}{lot}}{}{\svaddcontentsline{#1}{#2}{#3}}}}
  

\begin{appendices}
 \setcounter{table}{0}
 \setcounter{figure}{0}
  \titleformat{\section}{\bfseries\Large}{Appendix \thesection}{0.2em}{}
  \renewcommand{\thesection}{\arabic{section} --}

  \input{chapters/Appendix1.tex}
  % TODO ↑ it says “Figure 5”, but we are in the Appendix. Is it correct?
  \input{chapters/Appendix2.tex}
\end{appendices}

\addtocounter{section}{-1} % Introduction
\addtocounter{section}{-1} % Summary

\end{document}
